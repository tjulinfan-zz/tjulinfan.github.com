
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>森林木</title>
	<meta name="author" content="tjulinfan">

	
	<meta name="description" content="Apr 29th, 2014 ACM-ICPC,, CF Codeforces Beta Round #5 解题报告 CF5A Chat Servers Outgoing Traffic 题目大意 三种操作：添加一个人，删除某个人，向名单中所有人发送一条消息。问所有操作之后发送的消息总长度。 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="森林木" type="application/atom+xml">
	
	<link rel="canonical" href="http://tjulinfan.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-50190728-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	<img src='/images/404.jpg' alt='Profile Picture' style='width: 160px;' />
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
	</script>
</div>
<hgroup>
  <h1><a href="/">森林木</a></h1>
  
    <h2>Coder</h2>
  
</hgroup>
<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

<section class="aboutme">
  <p>
    做人怎么那么难
  </p>
</section>
</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:tjulinfan@gmail.com" title="Email">Email</a>
		
		
		
		
		
			<a class="github" href="https://github.com/tjulinfan" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-04-29T12:25:09+08:00" data-updated="true" itemprop="datePublished">Apr 29<span>th</span>, 2014</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/acm-icpc/'>ACM-ICPC,</a>, <a class='category' href='/blog/categories/cf/'>CF</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/04/29/codeforces-beta-round-number-5-jie-ti-bao-gao/" itemprop="url">Codeforces Beta Round #5 解题报告</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h3><a href="http://codeforces.com/contest/5/problem/A">CF5A Chat Servers Outgoing Traffic</a></h3>

<h4>题目大意</h4>

<p>三种操作：添加一个人，删除某个人，向名单中所有人发送一条消息。问所有操作之后发送的消息总长度。</p>

<h4>解法</h4>

<p>直接用 map 保存这个人名，然后要发送消息时统计 <em>map 中人数 * 消息长度</em> 加到答案中。</p>

<p>感觉这题很黄很暴力。。。</p>

<h4>代码</h4>

<p><a href="https://github.com/tjulinfan/Codeforces/blob/master/Codeforces%20Beta%20Round%20%235/CF5A.cpp">见GitHub</a></p>

<h3><a href="http://codeforces.com/contest/5/problem/B">CF5B Center Alignment</a></h3>

<h4>题目大意</h4>

<p>输入一些字符串，将这些字符串跟其中最长的字符串居中对齐，当不能完全居中时，第一次此种情况左边多一格，下一次这种情况右边多一格，以此类推输出。</p>

<h4>解法</h4>

<p>很水，简单除一下然后加个标识变量即可。</p>

<h4>代码</h4>

<p><a href="https://github.com/tjulinfan/Codeforces/blob/master/Codeforces%20Beta%20Round%20%235/CF5B.cpp">见GitHub</a></p>

<h3><a href="http://codeforces.com/contest/5/problem/C">CF5C Longest Regular Bracket Sequence</a></h3>

<h4>题目大意</h4>

<p>一个只包含左括号右括号的序列，求其中合法嵌套的最长子序列以及最长子序列个数。</p>

<h4>解法</h4>

<p>根据括号匹配的性质我们可以用栈存储当前位置之前的所有左括号，而用len[i]表示当前位置（右括号）向前的合法序列长度。很显然：假如当前位置i是左括号则将其入栈，否则计算len[i]，如果栈不为空则弹栈顶x，<strong><em>len[i]=len[x &ndash; 1] + i &ndash; x + 1</em></strong>，栈为空则len[i]为0。最后再遍历一遍统计答案。</p>

<h4>代码</h4>

<p><a href="https://github.com/tjulinfan/Codeforces/blob/master/Codeforces%20Beta%20Round%20%235/CF5C.cpp">见GitHub</a></p>

<h3><a href="http://codeforces.com/contest/5/problem/D">CF5D Follow Traffic Rules</a></h3>

<h4>题目大意</h4>

<p>在一条马路上（长度为l），一辆车初速度为0，加速度为a，极限速度为v，然后在离起点为d的地方限时速在w之内，问该车最少多久可以到达终点。</p>

<h4>解法</h4>

<p>这个题基本学过高中物理的应该想起来都比较简单，但是写起来其实还是有点蛋疼的，参考了官方题解发现有两个函数还是很巧妙的。下面讲一下具体的解法吧：</p>

<p>两个函数：</p>

<p>1.dist(speed, time) <br />
初速度为speed，加速度为a的情况下可以行使的路程，很显然为 <strong><em>speed * time + a * time * time / 2</em></strong></p>

<p>2.travelTime(distance, speed) <br />
在不考虑极限速度的情况下： <strong><em>speed * time + a * time * time / 2 = distance</em></strong> 这个一元二次方程可以通过求根公式直接求出非负根，求出的时间设为 <strong>tAll</strong> ,设 <strong><em>tMax = (v &ndash; speed) / a</em></strong> ，如果tMax>=tAll那么该函数的返回值就是 <strong>tAll</strong>，否则应该返回 <strong><em>tMax + (distance - dist(speed, tMax)) / v</em></strong></p>

<br />


<blockquote><p>接下来就是 <strong>O(1)</strong> 时间内求出解：</p>

<ol>
<li><p>w >= v<br/>
答案就是<strong>travelTime(l, 0)</strong></p></li>
<li><p>w &lt; v<br/>
计算 <strong>tw = w / a, dw = dist(0, tw)</strong><br/>
2.1 dw >= d 答案是 <strong>travelTime(l, 0)</strong><br/>
2.2 dw &lt; d 答案是 <strong>tw + travelTime((d &ndash; dw) / 2, w) * 2 + travelTime(l &ndash; d, w)</strong></p></li>
</ol>
</blockquote>

<h4>代码</h4>

<p><a href="https://github.com/tjulinfan/Codeforces/blob/master/Codeforces%20Beta%20Round%20%235/CF5D.cpp">见GitHub</a></p>

<h3><a href="http://codeforces.com/problemset/problem/5/E">CF5E Bindian Signalizing</a></h3>

<h4>题目大意</h4>

<p>在一个环上有n个点，每个点有个高度，问有多少对点可以互相看见，互相看见是指在顺时针方向或者逆时针方向上没有其他点的高度超过这对点中的任意一个。</p>

<h4>解法</h4>

<p>由于是一个环，我们要尽量得将其变成直线上来做——选取高度最大的点放在起始位置，后面的按顺时针或者逆时针依次放置。同时最后再放置一个高度最大的点。</p>

<p>每个点记录三个值l， r， c</p>

<ul>
<li>l 表示向左最近的高度比该点大的位置（没有就记为-1）</li>
<li>r 表示向右最近的高度比该点大的位置 (没有就记为n + 1)</li>
<li>c 表示从 l 到该点位置中与该点高度相同的点的个数</li>
</ul>


<p>很显然，对于当前点来说答案应该加上：</p>

<ul>
<li>如果 l 不为-1则加上1</li>
<li>如果 r 不为n+1则加上1</li>
<li>如果 l 为0，r 为n则减去1（因为首尾其实是一个点）</li>
<li>答案加上c</li>
</ul>


<h4>代码</h4>

<p><a href="https://github.com/tjulinfan/Codeforces/blob/master/Codeforces%20Beta%20Round%20%235/CF5E.cpp">见GitHub</a></p>

<h3>总结</h3>

<p>CF很多题都是很巧妙的，感觉自己好弱啊。。。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-04-21T22:12:11+08:00" data-updated="true" itemprop="datePublished">Apr 21<span>st</span>, 2014</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/sheng-huo/'>生活</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/04/21/xia-tu-cao-wen/" itemprop="url">瞎吐槽文</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>好久没有写日志了，感觉可能都不太会说话了。。。</p>

<p>今天美国罗斯霍曼理工师生来我们学院参观，上完体育课之后带着万分的怨念来到俱乐部等待着他们的来临。当然，我是一点压力都没有的——所有的任务都交给了二丹和淫笑，我也就负责尽尽地主之谊，什么发水啦，什么welcome啦，之后就在旁边看着二丹和淫笑介绍俱乐部了，偶尔回答一下问题，但是大部分情况下都是靠别人翻译。于是我今天最大的收获就是 GC 以后要招募一个首席翻译官，顺便吐槽一下我以后去外企怎么活。。。</p>

<p>其实除了英语之外让我最尴尬的就是礼物问题了，中午一起吃饭的时候他们的老师送了每个人一个礼物，之后我只能很匆忙地从 GC 拿了几件带LOGO的T恤回赠他们，只能说，还好还有点库存，不然就呵呵了。以后 GC 还是需要从 Google 多拉点纪念品过来啊！</p>

<p>下午几位美国友人跟我们一起上了刘岩的 Web Service and SOA，其实有点被吓到，即使别人只是来参观的，但是上课时的认真程度还是我们所不及的（那位华裔同学还记笔记呢），纵使我们总是吹嘘自己和别人智商上没有多少差距，但是态度还是决定了一切吧。他们一个学期也就三四门课，每天都有各种各样的作业充实着，也许这才是大学？谈到这个，我就想到最近的生活，也许只有到了找实习找工作的时候大家才会发现自己离社会的要求还有多远，于是各种感叹虚度青春，于是才真正地拿起了每次只是通宵“预习”的书本，于是又有了很多“如果”——如果再让我读一次大学云云。我想，这就是人！自己也在最近才发现经历了大学的磨砺已经没有当初那么多的梦想了，也发现人生果然很艰难。有多艰难只有你面临这种情况的时候才会知道！看了复旦、交大甚至是北大直博的保送研究生招生简章才再次意识到英语真的很重要！！！一个六级的硬性指标让我又碰到了高中保送时的尴尬情况，于是我下定决心，还是多给自己一点时间，研究生在同济一定好好学习！——我跟同济果然是很有缘。。。又有两年半要在嘉定度过了。。。</p>

<p>算了，吐槽了那么多还是回到现实生活中继续骗自己吧，哈哈！P.S. 最近开了个博客准备随便写点东西 有兴趣的同学关注一下啦，也顺便督促一下我！<br />
地址是： blog.tjulinfan.com</p>

<p>附上一张合照，让我膜拜一下美国顶尖工科学生吧！</p>

<p>
<img src="http://blog-tjulinfan-com.qiniudn.com/20140421_%E7%BE%8E%E5%9B%BD%E7%BD%97%E6%96%AF%E9%9C%8D%E6%9B%BC%E7%90%86%E5%B7%A5%E5%8F%82%E8%A7%82GC.jpg" />
</p>


		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-04-21T14:51:02+08:00" data-updated="true" itemprop="datePublished">Apr 21<span>st</span>, 2014</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/sublime/'>sublime</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/04/21/debianxia-sublimede-zhong-wen-shu-ru-wen-ti/" itemprop="url">Debian下sublime的中文输入问题</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>这两天搭建基于 Github pages 的博客准备开始在网上打打酱油了，于是我发现——搭环境果然是世界上最蛋疼的事情。。。</p>

<p>当然，本文不是讲搭博客环境的。在我改 Octopress 的配置文件的时候，惊奇地发现 sublime 里居然不能切中文输入法，于是我 Google 了一下，发现 <a href="http://my.oschina.net/Khiyuan/blog/98713">一篇教程</a>，但是原文中最后一步在 Debian 下执行不是很顺利。下面讲一下解决方法吧：</p>

<h4>1. 保存代码到文件sublime_imfix.c</h4>

<pre><code>#include &lt;gtk/gtkimcontext.h&gt;

void gtk_im_context_set_client_window (GtkIMContext *context, GdkWindow *window) {
    GtkIMContextClass *klass;
    g_return_if_fail (GTK_IS_IM_CONTEXT (context));
    klass = GTK_IM_CONTEXT_GET_CLASS (context);
    if (klass-&gt;set_client_window)
        klass-&gt;set_client_window (context, window);
    g_object_set_data(G_OBJECT(context),"window",window);

    if(!GDK_IS_WINDOW (window))
        return;
    int width = gdk_window_get_width(window);
    int height = gdk_window_get_height(window);
    if(width != 0 &amp;&amp; height !=0)
        gtk_im_context_focus_in(context);
} 
</code></pre>

<h4>2. 编译成共享库</h4>

<pre><code>gcc -shared -o libsublime-imfix.so sublime_imfix.c  `pkg-config --libs --cflags gtk+-2.0` -fPIC
</code></pre>

<p>这里有可能需要装一下libgtk</p>

<h4>3. 运行</h4>

<pre><code>LD_PRELOAD=./libsublime-imfix.so sublime_text
</code></pre>

<h4>4. 配置</h4>

<p>由于我用的是 Debian，sublime text 的运行命令为 subl，所以需要更改启动文件，将 libsublime-imfix.so 拷贝到 sublime 所在文件夹（Debian下是 /opt/sublime_text）</p>

<p>在 /usr/bin/subl 文件中,将</p>

<pre><code>BIN=/opt/sublime-text/sublime_text 替换为

export LD_PRELOAD=/opt/sublime-text/libsublime-imfix.so
exec /opt/sublime-text/sublime_text "$@"
</code></pre>

<p>再次附上原文网址：
<a href="http://my.oschina.net/Khiyuan/blog/98713">http://my.oschina.net/Khiyuan/blog/98713</a></p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    tjulinfan


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	
</body>
</html>
